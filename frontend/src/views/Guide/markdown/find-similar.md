相似项查找(Find Similar)的目标是通过图像之间的组织关系和连结，发现内容近似、来源上有关联，但缺少对应关系的图像。

在主菜单「相似项目」一页，可以看到找到的相似项目，或手动发起新的相似项查找计划。

### 查找方式

在主菜单「相似项目」页的右上角点击「手动新建查找任务」，可以看到发起一个查找计划所需的全部选项。我们可以结合选项来说明相似项查找的查找方式。

#### 第一步：选定启动范围

查找的第一步是选定启动范围。查找计划是从启动范围开始，只会去搜索选定图像的相似项。

手动新建查找任务给出了所有可用的启动方式。
* **图像/导入项目**: 直接给出特定的图像/导入项目，从它们开始。
* **时间分区**: 选择指定时间分区下的所有图像、导入项目。
* **主题/作者**: 选择指定主题/作者标签关联的所有图像。
* **来源标签**: 选择指定来源标签关联的所有图像、导入项目。来源标签需要选择一个站点，然后给出一系列的标签编码。

#### 第二步: 选定搜索范围

有了启动项之后，下一步是确定这些项要去哪里搜索可能的相似项。

右侧的“相似项查找范围”列出了所有可选的搜索范围。
* **其他导入项目**: 在导入项目列表中的所有项都会被考虑。
* **相同时间分区的项**: 对于每个项，与其在同一个时间分区的项都会被考虑。
* **相同作者/主题的项**: 对于每个项，与其拥有任一相同作者/主题标签的项都会被考虑。
* **来源类型过滤器**: 对于每个项，与其拥有任意一个相同指定来源标签类型的标签的项都会被考虑。听起来比较复杂，但实际上是与作者/主题过滤类似的功能。(例如，指定"artist"类型后，与这个项有相同"artis"类型来源标签的项都会被考虑了)

#### 第三步: 相似性判断

现在我们有了启动项列表，对于每个启动项也知道了它们要与哪些项作比对。现在则是要明确根据什么规则做判断。

右侧的“查找选项”列出了所有可用的判断规则。
* **内容相似度判断**: 使用指纹算法，对比两张图像之间的相似度，可以发现内容接近的图像。相似度极高的图像还会被额外标记为“内容高度相似”。
* **来源一致性判断**: 对比图像的来源站点、ID、分页、页名。当这些信息完全一致时，直接将两张图像判定为相同项；当ID一致但分页/页名不同时，将两张图像判定为关系极近的项。_这个查找选项的比对范围比较特殊，它不使用搜索范围内的项，而是直接全库搜索。_
* **来源关系判断**: 对比图像的来源ID间的关系，例如关联项、集合。如果图像具有这些关系，则将两张图像判定为具有血缘关系。
* **来源标记**: 这是一项服务于扩展的功能，它的判断方式和逻辑与来源关系判断很像，但标记是由扩展提供的。

### 解决相似项

被发现的相似项目会列出在「相似项目」页。在相似项详情页面，可以比对任意两项的属性区别，或选择多个项以执行批处理。

当两个项之间具有任意相似关系，而他们之间又没有已存在的组织关系时，就认为这两个项(节点)之间存在连接。多个这样的节点就会构成一张图，每一个连通分量都会形成一条待解决的记录。而解决方案则是在节点之间添加组织关系，或者干脆移除一些节点，将连通分量完全破坏至没有任何连接。

右侧的相似项解决功能提供了若干添加组织关系、移除节点的解决方案。
* **属性克隆**: 当一张图像是另一张的上位替代时，可以使用克隆功能将元数据转移，并移除旧图像。
* **加入集合/画集**: 为多张图像添加组织关系。
* **忽略关系**: 将两张/多张图像间的关系标记为忽略。被标记为忽略的图像将被视作存在组织关系了，下次扫描将不会再扫出来。
* **删除项目**: 直接移除一个/多个图像，达到移除节点的效果。

如果不添加任何解决方案就点击“完成”，这条记录会被直接移除，但下次扫描仍然可能扫描出这部分相似关系。列表的「快速处理」-「清除此记录」是一样的效果。

### 设置项和自动计划

在「设置」-「相似项查找」，可以设定相似项查找时的默认参数。

勾选“自动执行相似项查找”，将会在项目从“导入”引入“图库”时，自动对新导入的项目执行查找。
